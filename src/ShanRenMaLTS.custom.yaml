patch:
  # 下面是与山人码LTS核心无关的增强功能配置，如果不需要这些插件，请注释掉所有对应的序号行。
  # version: "2023.02.07"
  # ① 【中英文混输】（请确认ShanRenMaLTS.EN.schema.yaml、ShanRenMaLTS.EN.dict.yaml和lua/mix_english.lua三个依赖文件已置于用户文件夹）
  # ② 【数字输入功能增强】（请确认lua下已导入number_translator.lua文件。输入【=123】【=12+12】等体验，支持四则运算）
  # ④ 【时间打印插件】
  # ⑤ 【按键功能相关设置】
  # ⑥ 【特殊符号输入相关设置】
  # ⑦ 【词汇输入规则增强】
  schema/dependencies/+: 
    - ShanRenMaLTS.EN                                       #① 引入英文词库
    - ShanRenMaLTS.EXT
  switches/@after 0:
    {name: mix_english, reset: 1, states: [中文,混输中英]}  #① 混输/纯中文开关
  engine/processors/@before 0: 
    lua_processor@capitalized_commit                       #① 开启中英文混输时可以使用"Shift+space"或"Shift+Return"使得候选单词上屏且首字母自动大写，可以使用“Return”上屏英文单词
  engine/translators/+: 
    - script_translator@phrases                           #⑦
    - table_translator@english                              #① 加入英文字典的翻译器
    - lua_translator@number_translator                     #② 加入数字增强的翻译器  
    - lua_translator@time_date                             #④ 加入时间快捷打印
  engine/filters/@before 0: 
    lua_filter@mix_english                                 #① 用于实现中英混输功能开关的滤镜
  recognizer/patterns/+: 
    calculate: "^=.*$"                                      #② 标记触发词“=”为calculate标签用于数字增强翻译器
    re_date: "^[A-Z][0-9]+$"                                #④ 标记触发词“大写字母加数字”为redate标签用于日期反查
  english:                                                  #① 英文字典翻译器的配置
    dictionary: ShanRenMaLTS.EN                             #① 导入英文字典
    comment_format:                                         #① 不显示英文单词提示码，因为提示码个英文单词时同形的
      - xform/^.*$//                                        #① 
    enable_completion:      true                            #① 开启单词预测
    enable_user_dict:       false                           #① 关闭用户词典〔用户词典记录动态词频、用户词〕
    enable_encoder:         false                           #① 开启自动造词
    encode_commit_history:  false                           #① 关闭上屏自动成词
    initial_quality: 1.0                                    #① 翻译器优先级，和主词库同级
  phrases:                                                  #⑦
    dictionary: ShanRenMaLTS.EXT                      #⑦
    # prism: ShanRenMaLTS.EXT
    enable_user_dict: false                                 #⑦
    enable_sentence: true                                   #⑦
    strict_spelling: true                                   #⑦
    initial_quality: 1.1                                    #⑦
    spelling_hints: 20                                      #⑦
  punctuator/import_preset: ShanRenMaLTS.symbols            #⑥ 特殊符号输入相关设置
  editor/bindings/+:
    Return: commit_raw_input                                #⑤ 输入回车键直接上屏已输入的编码，使其功能与搜狗一致
  key_binder/bindings/+:
     - {accept: semicolon, send: 2, when: has_menu}         #⑤ 分號選第二重碼
     - {accept: apostrophe, send: 3, when: has_menu}        #⑤ 引號選第三重碼
     - { when: always,    accept: "Control+1", toggle: simplification} #⑤ Control+1快捷进行简繁切换
     - { when: always,    accept: "Control+2", toggle: mix_english}    #①⑤ Control+2快捷开关中英混输
  ascii_composer/switch_key:                                #⑤ ctrl&&shift 切换键效果为
    Caps_Lock: clear                                        #⑤
    Control_L: noop                                         #⑤
    Control_R: noop                                         #⑤
    Shift_L: commit_code                                    #⑤
    Shift_R: commit_code                                    #⑤



#【风入松】主题方案
# 请确保在weasel.custom.yaml中patch下添加【__include: ShanRenMaLTS.custom.yaml:/FengRuSong_style】以引入方案
# 请确保系统已安装下方配置中出现的字体；
# 请注意下方部分配置只在非官方维护的 https://github.com/fxliang/weasel 这一小狼毫的最新版本中得到实现。

  style/label_font_face:    Iosevka
  style/comment_font_face: "Iosevka, SunmanPUA, TH-Tshyn-P2, TH-Tshyn-P1, TH-Tshyn-P0, TH-Tshyn-P16, Segoe UI Emoji:80, Microsoft Yahei"
  style/font_face:         "Iosevka, SunmanPUA, 华文中宋, TH-Tshyn-P2, TH-Tshyn-P1, TH-Tshyn-P0, TH-Tshyn-P16, Segoe UI Emoji:80, Microsoft Yahei"
  style/label_font_point:   10
  style/comment_font_point: 10
  style/font_point:         14
  style/blur_window:                  true
  style/color_font:                   true
  style/display_tray_icon:            false
  style/fullscreen:                   false
  style/horizontal:                   false
  style/inline_preedit:               true
  style/hide_candidates_when_single:  false
  style/preedit_type:                 composition
  style/layout/align_type:            bottom
  style/capture_type:                 none
  style/label_format:                 "%s."
  style/mark_text:                    " "
  style/layout/border_width:           3
  style/layout/candidate_spacing:      5
  style/layout/corner_radius:         20
  style/layout/hilite_padding:         1
  style/layout/hilite_spacing:        13
  style/layout/margin_x:              10
  style/layout/margin_y:               4
  style/layout/max_width:              0
  style/layout/min_width:            100
  style/layout/min_height:             0
  style/layout/round_corner:          15
  style/layout/round_corner_ex:       10
  style/layout/shadow_offset_x:        4
  style/layout/shadow_offset_y:        4
  style/layout/shadow_radius:          4
  style/layout/spacing:                0
  menu/page_size:                      9


FengRuSong_style: 
  style/color_scheme:       FengRuSong
  preset_color_schemes/FengRuSong:
    name: "FengRuSong／风入松"
    author: "葉修齊 <ieksiuze@gmail.com>"
    back_color: 0xCC85AE2B
    border_color: 0x1085AE2B
    candidate_shadow_color: 0x00000000
    candidate_text_color: 0xFFFFFF
    comment_text_color: 0xEDEDED
    hilited_back_color: 0xAADE37
    hilited_candidate_back_color: 0xAADE37
    hilited_candidate_shadow_color: 0x20000000
    hilited_candidate_text_color: 0xFFFFFF
    hilited_comment_text_color: 0xFFFFFF
    hilited_label_color: 0xFFFFFF
    hilited_mark_color: 0xFFFFFF
    hilited_shadow_color: 0x20000000
    hilited_text_color: 0xFFFFFF
    label_color: 0xEDEDED
    shadow_color: 0x20000000
    text_color: 0xFFFFFF
